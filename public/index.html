<html>
<head>
    <!-- Add Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">  <!-- Add jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script></head>
<body>
<div class="container border border-primary rounded">
    <h2 class="my-4">Job Form</h2>
    <form id="jobForm">

        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <h3>Client details:</h3>
                    <label for="firstName">First Name:</label>
                    <input type="text" id="firstName" class="form-control" required>

                    <label for="lastName">Last Name:</label>
                    <input type="text" id="lastName" class="form-control" required>

                    <label for="phone">Phone:</label>
                    <input type="tel" id="phone" class="form-control" required>

                    <label for="email">Email:</label>
                    <input type="email" id="email" class="form-control" required>
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <h3>Job details:</h3>
                    <label for="jobType">Job type:</label>
                    <select id="jobType" class="form-control" required>
                        <option value="">Select job type</option>
                        <option value="type1">Type 1</option>
                        <option value="type2">Type 2</option>
                    </select>

                    <label for="jobSource">Job source:</label>
                    <select id="jobSource" class="form-control" required>
                        <option value="">Select job source</option>
                        <option value="source1">Source 1</option>
                        <option value="source2">Source 2</option>
                    </select>

                    <label for="jobDescription">Job description:</label>
                    <textarea id="jobDescription" class="form-control"></textarea>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <h3>Service location:</h3>
                    <label for="address">Address:</label>
                    <input type="text" id="address" class="form-control" required>

                    <label for="city">City:</label>
                    <input type="text" id="city" class="form-control" required>

                    <label for="state">State:</label>
                    <input type="text" id="state" class="form-control" required>

                    <label for="zipCode">Zip Code:</label>
                    <input type="text" id="zipCode" class="form-control" required>

                    <label for="area">Area:</label>
                    <select id="area" class="form-control" required>
                        <option value="">Select area</option>
                        <option value="area1">Area 1</option>
                        <option value="area2">Area 2</option>
                    </select>
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <h3>Scheduled:</h3>
                    <label for="startDate">Start Date:</label>
                    <input type="date" id="startDate" class="form-control" required>

                    <label for="startTime">Start time:</label>
                    <input type="time" id="startTime" class="form-control" required>

                    <label for="endTime">End time:</label>
                    <input type="time" id="endTime" class="form-control" required>

                    <label for="testSelect">Test select:</label>
                    <select id="testSelect" class="form-control" required>
                        <option value="">Select test</option>
                        <option value="test1">Test 1</option>
                        <option value="test2">Test 2</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary my-2">Submit</button>
        </div>

    </form>
</div>

<script>
    function handleSubmit(event) {
        event.preventDefault();

        // Get form values from each section
        const firstName = document.getElementById('firstName').value;
        const lastName = document.getElementById('lastName').value;
        const phone = document.getElementById('phone').value;
        const email = document.getElementById('email').value;
        const jobType = document.getElementById('jobType').value;
        const jobSource = document.getElementById('jobSource').value;
        const jobDescription = document.getElementById('jobDescription').value;
        const address = document.getElementById('address').value;
        const city = document.getElementById('city').value;
        const state = document.getElementById('state').value;
        const zipCode = document.getElementById('zipCode').value;
        const area = document.getElementById('area').value;
        const startDate = document.getElementById('startDate').value;
        const startTime = document.getElementById('startTime').value;
        const endTime = document.getElementById('endTime').value;
        const testSelect = document.getElementById('testSelect').value;

        // Create an object with all the form data
        let formData = {
            firstName,
            lastName,
            phone,
            email,
            jobType,
            jobSource,
            jobDescription,
            address,
            city,
            state,
            zipCode,
            area,
            startDate,
            startTime,
            endTime,
            testSelect,
        };

        console.log(formData);
        formData = JSON.stringify(formData);
        $.ajax({
            url: '/',
            type: 'post',
            contentType:'application/json',
            data: formData,
            success: function(data){
                if(data.message){
                    alert(data.message);
                }
            }
        });
    }

    document.addEventListener('DOMContentLoaded', () => {
        // Add event listener to the form submit button
        const jobForm = document.getElementById('jobForm');
        jobForm.addEventListener('submit', handleSubmit);
    });
</script>

<!-- Add Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>    </div>
</body>
</html>

